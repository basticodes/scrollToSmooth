/*!
* ScrollToSmooth
* Author: Bastian FieÃŸinger
* Version: 2.2.1
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).scrollToSmooth=e()}(this,(function(){"use strict";const t=t=>t,e=t=>{const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},n=document,i=n.documentElement,o=n.body,s=window,a=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,r=s.cancelAnimationFrame||s.mozCancelAnimationFrame,c=(t,e=n)=>e.querySelector(t),l=(t,e=n)=>{let i=!1;return("string"==typeof t&&c(t,e)||h(t)&&e.contains(t))&&(i=!0),i},h=t=>(t=>{try{return t instanceof Node}catch(e){return"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName&&"object"==typeof t.ownerDocument}})(t)||(t=>{try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}})(t),u=()=>s.pageYOffset||o.scrollTop||i.scrollTop,d=()=>s.performance&&"now"in s.performance?performance.now():(new Date).getTime(),p=t=>{const e=new RegExp("("+location.hash+")?$");return(t.baseURI||n.URL).replace(e,"")},g=()=>Math.max(o.scrollHeight,o.offsetHeight,o.clientHeight,i.scrollHeight,i.offsetHeight,i.clientHeight),w=()=>s.innerHeight||i.clientHeight||o.clientHeight;let f;class m{constructor(e,s){this.__id=0,this.__id=++m.id;const a={container:n,targetAttribute:"href",topOnEmptyHash:!0,offset:null,duration:400,durationRelative:!1,durationMin:null,durationMax:null,easing:t,onScrollStart:null,onScrollUpdate:null,onScrollEnd:null};s=s||a;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&!Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=a[t]);this.settings=s;let r=o;"string"==typeof this.settings.container&&l(this.settings.container)?r=c(this.settings.container):"string"!=typeof this.settings.container&&h(this.settings.container)&&l(this.settings.container)&&(r=this.settings.container),r=r===n||r===i?o:r,this.container=r,this.elements="string"==typeof e?((t,e=n)=>e.querySelectorAll(t))(e,this.container):e}getTargetElement(t){let e="";return"href"===this.settings.targetAttribute&&t.href?e=t.href.replace(p(t),""):t.getAttribute(this.settings.targetAttribute)&&(e=t.getAttribute(this.settings.targetAttribute)),this.settings.topOnEmptyHash&&"#"==e?this.container:l(e,this.container)?c(e,this.container):null}linkCollector(){const t=[];return Array.prototype.forEach.call(this.elements,e=>{this.getTargetElement(e)&&("href"===this.settings.targetAttribute&&-1!=e.href.indexOf(p(e))&&-1!=e.href.indexOf("#")&&(""!=e.hash||this.settings.topOnEmptyHash)||"href"!=this.settings.targetAttribute)&&t.push(e)}),t}clickHandler(t,e){e.stopPropagation(),e.preventDefault();const n=this.getTargetElement(t);n&&this.scrollTo(n)}evalTimeFn(t,e){return Function('"use strict"; return ('+t+"("+e+"))")()}getDuration(t){let e=Math.max(1,this.settings.duration);if(this.settings.durationRelative){const n="number"==typeof this.settings.durationRelative?this.settings.durationRelative:1e3;e=Math.max(this.settings.duration,t*(e/n))}return this.settings.durationMin&&e<this.settings.durationMin&&(e=this.settings.durationMin),this.settings.durationMax&&e>this.settings.durationMax&&(e=this.settings.durationMax),e}scrollExceedsDocument(t,e,n){const i=e-n;return t<0?{to:"top",px:-1*t}:t>i&&{to:"bottom",px:-1*(i-t)}}expandDocument(t,e,n){const i=this.scrollExceedsDocument(t,e,n),o=this.getDocumentExpanders(),s=o.filter(t=>"top"===t.getAttribute("data-scrolltosmooth-expand"))[0],a=o.filter(t=>"bottom"===t.getAttribute("data-scrolltosmooth-expand"))[0];i&&s&&"top"===i.to?s.style.height=i.px+"px":i&&a&&"bottom"===i.to?a.style.height=i.px+"px":o.forEach(t=>{t.style.removeProperty("height")})}getDocumentExpanders(){return Array.prototype.slice.call(this.container.children).filter(t=>t.hasAttribute("data-scrolltosmooth-expand"))}animateScroll(t,e,n,i,o){const r=t-e,c=r<0?-1*r:r,l=this.getDuration(c),h=Math.min(l,d()-n),u=h/l,p="string"==typeof this.settings.easing?this.evalTimeFn(this.settings.easing,u):this.settings.easing(u),m=e+r*p;this.settings.onScrollUpdate&&"function"==typeof this.settings.onScrollUpdate&&this.settings.onScrollUpdate({startPosition:e,currentPosition:m,endPosition:t}),s.scroll(0,m),i||(i=g()),o||(o=w()),this.expandDocument(m,i,o),h>=l?this.settings.onScrollEnd&&"function"==typeof this.settings.onScrollEnd&&this.settings.onScrollEnd({startPosition:e,endPosition:t}):f=a(()=>{this.animateScroll(t,e,n,i,o)})}init(){this.destroy();const t=n.createElement("div");t.setAttribute("data-scrolltosmooth-expand","top"),this.container.insertBefore(t,this.container.firstChild);const e=n.createElement("div");e.setAttribute("data-scrolltosmooth-expand","bottom"),this.container.appendChild(e),Array.prototype.forEach.call(this.linkCollector(),t=>{t.addEventListener("click",this.clickHandler.bind(this,t),!1)});["mousewheel","wheel","touchmove"].forEach(t=>{s.addEventListener(t,()=>{this.cancelScroll()})})}destroy(){this.settings&&(this.cancelScroll(),this.getDocumentExpanders().forEach(t=>{t.parentNode.removeChild(t)}),Array.prototype.forEach.call(this.linkCollector(),t=>{t.removeEventListener("click",this.clickHandler.bind(this,t),!1)}))}scrollTo(t){const e=u(),i=g(),o=w();let s=0;if(isNaN(t)){if(("object"==typeof t||"string"==typeof t)&&l(t,this.container)){"string"==typeof t&&(t=c(t,this.container)),t.focus(),n.activeElement!==t&&t.setAttribute("tabindex","-1");const a=t.getBoundingClientRect().top+e;s=i-a<o?i-o:a}}else"string"==typeof t&&(t=parseFloat(t)),s=t=i-t<o?i-o:t;if(null!==this.settings.offset){let t=0;if(l(this.settings.offset,this.container)){let e=this.settings.offset;"string"==typeof e&&(e=c(this.settings.offset)),h(e)&&(t=e.getBoundingClientRect().height)}else isNaN(this.settings.offset)||(t=this.settings.offset,"string"==typeof t&&(t=parseFloat(t)));s-=t}s=s<0?0:s,this.settings.onScrollStart&&"function"==typeof this.settings.onScrollStart&&this.settings.onScrollStart({startPosition:e,endPosition:s}),this.animateScroll(s,e,d(),i,o)}scrollBy(t){this.scrollTo(u()+t)}cancelScroll(){f&&r(f)}update(t){if(t instanceof Object)for(const[e,n]of Object.entries(t))this.settings[e]=n}}return m.id=0,window.linear=t,window.easeInQuad=t=>t*t,window.easeOutQuad=t=>1-(1-t)*(1-t),window.easeInOutQuad=t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,window.easeInCubic=t=>t*t*t,window.easeOutCubic=t=>1-Math.pow(1-t,3),window.easeInOutCubic=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,window.easeInQuart=t=>t*t*t*t,window.easeOutQuart=t=>1-Math.pow(1-t,4),window.easeInOutQuart=t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,window.easeInQuint=t=>t*t*t*t*t,window.easeOutQuint=t=>1-Math.pow(1-t,5),window.easeInOutQuint=t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,window.easeInSine=t=>1-Math.cos(t*Math.PI/2),window.easeOutSine=t=>Math.sin(t*Math.PI/2),window.easeInOutSine=t=>-(Math.cos(Math.PI*t)-1)/2,window.easeInExpo=t=>0===t?0:Math.pow(2,10*t-10),window.easeOutExpo=t=>1===t?1:1-Math.pow(2,-10*t),window.easeInOutExpo=t=>0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,window.easeInCirc=t=>1-Math.sqrt(1-Math.pow(t,2)),window.easeOutCirc=t=>Math.sqrt(1-Math.pow(t-1,2)),window.easeInOutCirc=t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,window.easeInElastic=t=>{const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)},window.easeOutElastic=t=>{const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},window.easeInOutElastic=t=>{const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1},window.easeInBack=t=>2.70158*t*t*t-1.70158*t*t,window.easeOutBack=t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),window.easeInOutBack=t=>{const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2},window.easeInBounce=t=>1-e(1-t),window.easeOutBounce=e,window.easeInOutBounce=t=>t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2,m}));
